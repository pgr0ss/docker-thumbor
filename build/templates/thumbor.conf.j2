################################### Logging ####################################

THUMBOR_USE_SYSLOG = {{ THUMBOR_USE_SYSLOG|default(True) }}

## Logging configuration as json
THUMBOR_LOG_CONFIG = {{ THUMBOR_LOG_CONFIG|default(None) }}

## Log Format to be used by thumbor when writing log messages.
THUMBOR_LOG_FORMAT = '{{ THUMBOR_LOG_FORMAT|default('%(asctime)s %(name)s:%(levelname)s %(message)s') }}'

## Date Format to be used by thumbor when writing log messages.
## Defaults to: %Y-%m-%d %H:%M:%S
THUMBOR_LOG_DATE_FORMAT = '{{ THUMBOR_LOG_DATE_FORMAT|default('%Y-%m-%d %H:%M:%S') }}'

## Host to send statsd instrumentation to
STATSD_HOST = {{ THUMBOR_STATSD_HOST|default(None) }}

## Prefix for statsd
STATSD_PREFIX = {{ THUMBOR_STATSD_PREFIX|default(None) }}

################################################################################

################################### Imaging ####################################

## Max width in pixels for images read or generated by thumbor
MAX_WIDTH = {{ THUMBOR_MAX_WIDTH|default(0) }}

## Max height in pixels for images read or generated by thumbor
MAX_HEIGHT = {{ THUMBOR_MAX_HEIGHT|default(0) }}

## Min width in pixels for images read or generated by thumbor
MIN_WIDTH = {{ THUMBOR_MIN_WIDTH|default(1) }}

## Min width in pixels for images read or generated by thumbor
MIN_HEIGHT = {{ THUMBOR_MIN_HEIGHT|default(1) }}

## Allowed domains for the http loader to download.
## These are regular expressions.
ALLOWED_SOURCES = {{ THUMBOR_ALLOWED_SOURCES|default([]) }}

## Quality index used for generated JPEG images
QUALITY = {{ THUMBOR_QUALITY|default(80) }}

## Exports JPEG images with the `progressive` flag set.
PROGRESSIVE_JPEG = {{ THUMBOR_PROGRESSIVE_JPEG|default(True) }}

## Quality index used for generated WebP images. If not set (None) the same level
## of JPEG quality will be used.
## Defaults to: None
WEBP_QUALITY = {{ THUMBOR_WEBP_QUALITY|default(None) }}

## Specifies whether WebP format should be used automatically if the request
## accepts it (via Accept header)
AUTO_WEBP = {{ THUMBOR_AUTO_WEBP|default(False) }}

## Max AGE sent as a header for the image served by thumbor in seconds
MAX_AGE = {{ THUMBOR_MAX_AGE|default(86400) }}

## Indicates the Max AGE header in seconds for temporary images (images with
## failed smart detection)
MAX_AGE_TEMP_IMAGE = {{ THUMBOR_MAX_AGE_TEMP_IMAGE|default(0) }}

## Indicates whether thumbor should rotate images that have an Orientation EXIF
## header
RESPECT_ORIENTATION = {{ THUMBOR_RESPECT_ORIENTATION|default(False) }}

## Ignore errors during smart detections and return image as a temp image (not
## saved in result storage and with MAX_AGE_TEMP_IMAGE age)
IGNORE_SMART_ERRORS = {{ THUMBOR_IGNORE_SMART_ERRORS|default(False) }}

## Sends If-Modified-Since & Last-Modified headers; requires support from result
## storage
SEND_IF_MODIFIED_LAST_MODIFIED_HEADERS = {{ THUMBOR_SEND_IF_MODIFIED_LAST_MODIFIED_HEADERS|default(False) }}

## Preserves exif information in generated images. Increases image size in
## kbytes, use with caution.
PRESERVE_EXIF_INFO = {{ THUMBOR_PRESERVE_EXIF_INFO|default(False) }}

## Indicates whether thumbor should enable the EXPERIMENTAL support for animated
## gifs.
ALLOW_ANIMATED_GIFS = {{ THUMBOR_ALLOW_ANIMATED_GIFS|default(True) }}

## Indicates whether thumbor should use gifsicle engine. Please note that smart
## cropping and filters are not supported for gifs using gifsicle (but won't
## give an error).
USE_GIFSICLE_ENGINE = {{ THUMBOR_USE_GIFSICLE_ENGINE|default(False) }}

## Indicates whether thumbor should enable blacklist functionality to prevent
## processing certain images.
USE_BLACKLIST = {{ THUMBOR_USE_BLACKLIST|default(False) }}

## Size of the thread pool used for image transformations.  The default value is
## 0 (don't use a threadpoool.  Increase this if you are seeing your IOLoop
## getting blocked (often indicated by your upstream HTTP requests timing out)
ENGINE_THREADPOOL_SIZE = {{ THUMBOR_ENGINE_THREADPOOL_SIZE|default(0) }}

################################################################################

################################ Extensibility #################################

## The loader thumbor should use to load the original image. This must be the
## full name of a python module (python must be able to import it)
LOADER = '{{ THUMBOR_LOADER|default('thumbor.loaders.http_loader') }}'

## The file storage thumbor should use to store original images. This must be the
## full name of a python module (python must be able to import it)
STORAGE = '{{ THUMBOR_STORAGE|default('thumbor.storages.file_storage') }}'

## The result storage thumbor should use to store generated images. This must be
## the full name of a python module (python must be able to import it)
RESULT_STORAGE = {{ THUMBOR_RESULT_STORAGE|default(None) }}

## The imaging engine thumbor should use to perform image operations. This must
## be the full name of a python module (python must be able to import it)
ENGINE = '{{ THUMBOR_ENGINE|default('thumbor.engines.pil') }}'

## The gif engine thumbor should use to perform image operations. This must be
## the full name of a python module (python must be able to import it)
GIF_ENGINE = '{{ THUMBOR_GIF_ENGINE|default('thumbor.engines.gif') }}'

################################################################################

################################### Security ###################################

## The security key thumbor uses to sign image URLs
SECURITY_KEY = '{{ THUMBOR_SECURITY_KEY|default('MY_SECURE_KEY') }}'

## Indicates if the /unsafe URL should be available
ALLOW_UNSAFE_URL = {{ THUMBOR_ALLOW_UNSAFE_URL|default(True) }}

## Indicates if encrypted (old style) URLs should be allowed
ALLOW_OLD_URLS = {{ THUMBOR_ALLOW_OLD_URLS|default(True) }}

################################################################################

##################################### HTTP #####################################

## Enables automatically generated etags
ENABLE_ETAGS = {{ THUMBOR_ENABLE_ETAGS|default(True) }}

################################################################################

################################### Storage ####################################

## Set maximum id length for images when stored
MAX_ID_LENGTH = {{ THUMBOR_MAX_ID_LENGTH|default(32) }}

################################################################################

################################# File Loader ##################################

## The root path where the File Loader will try to find images
FILE_LOADER_ROOT_PATH = '{{ THUMBOR_FILE_LOADER_ROOT_PATH|default('/tmp') }}'

################################################################################

################################# HTTP Loader ##################################

## The maximum number of seconds libcurl can take to connect to an image being
## loaded
HTTP_LOADER_CONNECT_TIMEOUT = {{ THUMBOR_HTTP_LOADER_CONNECT_TIMEOUT|default(5) }}

## The maximum number of seconds libcurl can take to download an image
HTTP_LOADER_REQUEST_TIMEOUT = {{ THUMBOR_HTTP_LOADER_REQUEST_TIMEOUT|default(20) }}

## Indicates whether libcurl should follow redirects when downloading an image
HTTP_LOADER_FOLLOW_REDIRECTS = {{ THUMBOR_HTTP_LOADER_FOLLOW_REDIRECTS|default(True) }}

## Indicates the number of redirects libcurl should follow when downloading an
## image
HTTP_LOADER_MAX_REDIRECTS = {{ THUMBOR_HTTP_LOADER_MAX_REDIRECTS|default(5) }}

## The maximum number of simultaneous HTTP connections the loader can make before
## queuing
HTTP_LOADER_MAX_CLIENTS = {{ THUMBOR_HTTP_LOADER_MAX_CLIENTS|default(10) }}

## Indicates whether thumbor should forward the user agent of the requesting user
HTTP_LOADER_FORWARD_USER_AGENT = {{ THUMBOR_HTTP_LOADER_FORWARD_USER_AGENT|default(False) }}

## Default user agent for thumbor http loader requests
HTTP_LOADER_DEFAULT_USER_AGENT = '{{ THUMBOR_HTTP_LOADER_DEFAULT_USER_AGENT|default('Thumbor/' + THUMBOR_VERSION) }}'

## The proxy host needed to load images through
HTTP_LOADER_PROXY_HOST = {{ THUMBOR_HTTP_LOADER_PROXY_HOST|default(None) }}

## The proxy port for the proxy host
HTTP_LOADER_PROXY_PORT = {{ THUMBOR_HTTP_LOADER_PROXY_PORT|default(None) }}

## The proxy username for the proxy host
HTTP_LOADER_PROXY_USERNAME = {{ THUMBOR_HTTP_LOADER_PROXY_USERNAME|default(None) }}

## The proxy password for the proxy host
HTTP_LOADER_PROXY_PASSWORD = {{ THUMBOR_HTTP_LOADER_PROXY_PASSWORD|default(None) }}

## The filename of CA certificates in PEM format
HTTP_LOADER_CA_CERTS = {{ THUMBOR_HTTP_LOADER_CA_CERTS|default(None) }}

## The filename for client SSL key
HTTP_LOADER_CLIENT_KEY = {{ THUMBOR_HTTP_LOADER_CLIENT_KEY|default(None) }}

## The filename for client SSL certificate
HTTP_LOADER_CLIENT_CERT = {{ THUMBOR_HTTP_LOADER_CLIENT_CERT|default(None) }}

## If the CurlAsyncHTTPClient should be used
HTTP_LOADER_CURL_ASYNC_HTTP_CLIENT = {{ THUMBOR_HTTP_LOADER_CURL_ASYNC_HTTP_CLIENT|default(False) }}

################################################################################

################################# File Storage #################################

## Expiration in seconds for the images in the File Storage. Defaults to one
## month
STORAGE_EXPIRATION_SECONDS = {{ THUMBOR_STORAGE_EXPIRATION_SECONDS|default(2592000) }}

## Indicates whether thumbor should store the signing key for each image in the
## file storage. This allows the key to be changed and old images to still be
## properly found
STORES_CRYPTO_KEY_FOR_EACH_IMAGE = {{ THUMBOR_STORES_CRYPTO_KEY_FOR_EACH_IMAGE|default(False) }}

## The root path where the File Storage will try to find images
FILE_STORAGE_ROOT_PATH = '{{ THUMBOR_FILE_STORAGE_ROOT_PATH|default('/data/thumbor/storage') }}'

################################################################################


#################################### Upload ####################################

## Max size in Kb for images uploaded to thumbor
## Aliases: MAX_SIZE
UPLOAD_MAX_SIZE = {{ THUMBOR_UPLOAD_MAX_SIZE|default(0) }}

## Indicates whether thumbor should enable File uploads
## Aliases: ENABLE_ORIGINAL_PHOTO_UPLOAD
UPLOAD_ENABLED = {{ THUMBOR_UPLOAD_ENABLED|default(False) }}

## The type of storage to store uploaded images with
## Aliases: ORIGINAL_PHOTO_STORAGE
UPLOAD_PHOTO_STORAGE = '{{ THUMBOR_UPLOAD_PHOTO_STORAGE|default('thumbor.storages.file_storage') }}'

## Indicates whether image deletion should be allowed
## Aliases: ALLOW_ORIGINAL_PHOTO_DELETION
UPLOAD_DELETE_ALLOWED = {{ THUMBOR_UPLOAD_DELETE_ALLOWED|default(False) }}

## Indicates whether image overwrite should be allowed
## Aliases: ALLOW_ORIGINAL_PHOTO_PUTTING
UPLOAD_PUT_ALLOWED = {{ THUMBOR_UPLOAD_PUT_ALLOWED|default(False) }}

## Default filename for image uploaded
UPLOAD_DEFAULT_FILENAME = '{{ THUMBOR_UPLOAD_DEFAULT_FILENAME|default('image') }}'

################################################################################


############################### MongoDB Storage ################################

## MongoDB storage server host
MONGO_STORAGE_SERVER_HOST = '{{ THUMBOR_MONGO_STORAGE_SERVER_HOST|default('localhost') }}'

## MongoDB storage server port
MONGO_STORAGE_SERVER_PORT = {{ THUMBOR_MONGO_STORAGE_SERVER_PORT|default(27017) }}

## MongoDB storage server database name
MONGO_STORAGE_SERVER_DB = '{{ THUMBOR_MONGO_STORAGE_SERVER_DB|default('thumbor') }}'

## MongoDB storage image collection
MONGO_STORAGE_SERVER_COLLECTION = '{{ THUMBOR_MONGO_STORAGE_SERVER_COLLECTION|default('images') }}'

################################################################################


################################ Redis Storage #################################

## Redis storage server host
REDIS_STORAGE_SERVER_HOST = '{{ THUMBOR_REDIS_STORAGE_SERVER_HOST|default('localhost') }}'

## Redis storage server port
REDIS_STORAGE_SERVER_PORT = {{ THUMBOR_REDIS_STORAGE_SERVER_PORT|default(6379) }}

## Redis storage database index
REDIS_STORAGE_SERVER_DB = {{ THUMBOR_REDIS_STORAGE_SERVER_DB|default(0) }}

## Redis storage server password
REDIS_STORAGE_SERVER_PASSWORD = {{ THUMBOR_REDIS_STORAGE_SERVER_PASSWORD|default(None) }}

## Determine if redis errors should be ignored.
REDIS_STORAGE_IGNORE_ERRORS = {{ THUMBOR_REDIS_STORAGE_IGNORE_ERRORS|default(False) }}

################################################################################


############################### Memcache Storage ###############################

## List of Memcache storage server hosts
## Defaults to: ['localhost:11211']
MEMCACHE_STORAGE_SERVERS = {{ THUMBOR_OPTIMIZERS|default(['localhost:11211']) }}


################################################################################


################################ Mixed Storage #################################

## Mixed Storage file storage. This must be the full name of a python module
## (python must be able to import it)
MIXED_STORAGE_FILE_STORAGE = '{{ THUMBOR_MIXED_STORAGE_FILE_STORAGE|default('thumbor.storages.no_storage') }}'

## Mixed Storage signing key storage. This must be the full name of a python
## module (python must be able to import it)
MIXED_STORAGE_CRYPTO_STORAGE = '{{ THUMBOR_MIXED_STORAGE_CRYPTO_STORAGE|default('thumbor.storages.no_storage') }}'

## Mixed Storage detector information storage. This must be the full name of a
## python module (python must be able to import it)
MIXED_STORAGE_DETECTOR_STORAGE = '{{ THUMBOR_MIXED_STORAGE_DETECTOR_STORAGE|default('thumbor.storages.no_storage') }}'

################################################################################


##################################### Meta #####################################

## The callback function name that should be used by the META route for JSONP
## access
META_CALLBACK_NAME = {{ THUMBOR_META_CALLBACK_NAME|default(None) }}

################################################################################


################################## Detection ###################################

## List of detectors that thumbor should use to find faces and/or features. All
## of them must be full names of python modules (python must be able to import
## it)
DETECTORS = {{ THUMBOR_DETECTORS|default([]) }}


## The cascade file that opencv will use to detect faces
FACE_DETECTOR_CASCADE_FILE = '{{ THUMBOR_FACE_DETECTOR_CASCADE_FILE|default('haarcascade_frontalface_alt.xml') }}'

################################################################################


################################## Optimizers ##################################

## List of optimizers that thumbor will use to optimize images
OPTIMIZERS = {{ THUMBOR_OPTIMIZERS|default([]) }}

## Path for the jpegtran binary
JPEGTRAN_PATH = '{{ THUMBOR_JPEGTRAN_PATH|default('/usr/bin/jpegtran') }}'

## Path for the jpeg-recompress binary
JPEGRECOMPRESS_PATH = '{{ THUMBOR_JPEGTRAN_PATH|default('/usr/bin/jpeg-recompress') }}'

## Path for the ffmpeg binary used to generate gifv(h.264)
FFMPEG_PATH = '{{ THUMBOR_FFMPEG_PATH|default('/usr/local/bin/ffmpeg') }}'

## jpeg-recompress options
JPEGRECOMPRESS_METHOD = '{{ THUMBOR_JPEGRECOMPRESS_METHOD|default('ssim') }}'
JPEGRECOMPRESS_QUALITY_PRESET = '{{ THUMBOR_JPEGRECOMPRESS_QUALITY_PRESET|default('medium') }}'
JPEGRECOMPRESS_QUALITY_MIN = {{ THUMBOR_JPEGRECOMPRESS_QUALITY_MIN|default(None) }}
JPEGRECOMPRESS_QUALITY_MAX = {{ THUMBOR_JPEGRECOMPRESS_QUALITY_MAX|default(None) }}
JPEGRECOMPRESS_LOOPS = {{ THUMBOR_JPEGRECOMPRESS_LOOPS|default(6) }}
JPEGRECOMPRESS_ACCURATE = {{ THUMBOR_JPEGRECOMPRESS_ACCURATE|default(False) }}
JPEGRECOMPRESS_SUBSAMPLE = {{ THUMBOR_JPEGRECOMPRESS_SUBSAMPLE|default(True) }}

################################################################################


################################### Filters ####################################

## List of filters that thumbor will allow to be used in generated images. All of
## them must be full names of python modules (python must be able to import
## it)
## Defaults to: ['thumbor.filters.brightness', 'thumbor.filters.colorize', 'thumbor.filters.contrast', 'thumbor.filters.rgb', 'thumbor.filters.round_corner', 'thumbor.filters.quality', 'thumbor.filters.noise', 'thumbor.filters.watermark', 'thumbor.filters.equalize', 'thumbor.filters.fill', 'thumbor.filters.sharpen', 'thumbor.filters.strip_icc', 'thumbor.filters.frame', 'thumbor.filters.grayscale', 'thumbor.filters.rotate', 'thumbor.filters.format', 'thumbor.filters.max_bytes', 'thumbor.filters.convolution', 'thumbor.filters.blur', 'thumbor.filters.extract_focal', 'thumbor.filters.no_upscale', 'thumbor.filters.saturation', 'thumbor.filters.max_age', 'thumbor.filters.curve']
#FILTERS = #    [
#        'thumbor.filters.brightness',
#        'thumbor.filters.colorize',
#        'thumbor.filters.contrast',
#        'thumbor.filters.rgb',
#        'thumbor.filters.round_corner',
#        'thumbor.filters.quality',
#        'thumbor.filters.noise',
#        'thumbor.filters.watermark',
#        'thumbor.filters.equalize',
#        'thumbor.filters.fill',
#        'thumbor.filters.sharpen',
#        'thumbor.filters.strip_icc',
#        'thumbor.filters.frame',
#        'thumbor.filters.grayscale',
#        'thumbor.filters.rotate',
#        'thumbor.filters.format',
#        'thumbor.filters.max_bytes',
#        'thumbor.filters.convolution',
#        'thumbor.filters.blur',
#        'thumbor.filters.extract_focal',
#        'thumbor.filters.no_upscale',
#        'thumbor.filters.saturation',
#        'thumbor.filters.max_age',
#        'thumbor.filters.curve',
#    ]


################################################################################


################################ Result Storage ################################

## Expiration in seconds of generated images in the result storage
## Defaults to: 0
RESULT_STORAGE_EXPIRATION_SECONDS = {{ THUMBOR_RESULT_STORAGE_EXPIRATION_SECONDS|default(0) }}

## Path where the Result storage will store generated images
## Defaults to: /tmp/thumbor/result_storage
RESULT_STORAGE_FILE_STORAGE_ROOT_PATH = '{{ THUMBOR_RESULT_STORAGE_FILE_STORAGE_ROOT_PATH|default('/data/thumbor/result-storage') }}'

## Indicates whether unsafe requests should also be stored in the Result Storage
## Defaults to: False
RESULT_STORAGE_STORES_UNSAFE = {{ THUMBOR_RESULT_STORAGE_STORES_UNSAFE|default(False) }}

################################################################################


############################ Queued Redis Detector #############################

## Server host for the queued redis detector
REDIS_QUEUE_SERVER_HOST = '{{ THUMBOR_REDIS_QUEUE_SERVER_HOST|default('localhost') }}'

## Server port for the queued redis detector
REDIS_QUEUE_SERVER_PORT = {{ THUMBOR_REDIS_QUEUE_SERVER_PORT|default(6379) }}

## Server database index for the queued redis detector
REDIS_QUEUE_SERVER_DB = {{ THUMBOR_REDIS_QUEUE_SERVER_DB|default(0) }}

## Server password for the queued redis detector
REDIS_QUEUE_SERVER_PASSWORD = {{ THUMBOR_REDIS_QUEUE_SERVER_PASSWORD|default(None) }}

################################################################################


############################# Queued SQS Detector ##############################

## AWS key id
SQS_QUEUE_KEY_ID = {{ THUMBOR_SQS_QUEUE_KEY_ID|default(None) }}

## AWS key secret
SQS_QUEUE_KEY_SECRET = {{ THUMBOR_SQS_QUEUE_KEY_SECRET|default(None) }}

## AWS SQS region
SQS_QUEUE_REGION = '{{ THUMBOR_SQS_QUEUE_REGION|default('us-east-1') }}'

################################################################################


#################################### Errors ####################################

## This configuration indicates whether thumbor should use a custom error
## handler.
## Defaults to: False
USE_CUSTOM_ERROR_HANDLING = {{ THUMBOR_USE_CUSTOM_ERROR_HANDLING|default(False) }}

## Error reporting module. Needs to contain a class called ErrorHandler with a
## handle_error(context, handler, exception) method.
## Defaults to: thumbor.error_handlers.sentry
ERROR_HANDLER_MODULE = '{{ THUMBOR_ERROR_HANDLER_MODULE|default('thumbor.error_handlers.sentry') }}'

## File of error log as json
## Defaults to: None
ERROR_FILE_LOGGER = {{ THUMBOR_ERROR_FILE_LOGGER|default(None) }}

## File of error log name is parametrized with context attribute
## Defaults to: False
ERROR_FILE_NAME_USE_CONTEXT = {{ THUMBOR_ERROR_FILE_NAME_USE_CONTEXT|default(False) }}

################################################################################


############################### Errors - Sentry ################################

## Sentry thumbor project dsn. i.e.: http://5a63d58ae7b94f1dab3dee740b301d6a:73ee
## a45d3e8649239a973087e8f21f98@localhost:9000/2
## Defaults to:
SENTRY_DSN_URL = '{{ THUMBOR_SENTRY_DSN_URL|default('') }}'

################################################################################
